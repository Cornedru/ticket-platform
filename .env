# ================================================
# TICKET HUB - ENVIRONMENT VARIABLES
# ================================================
# Version: 1.0.0
# Objectif: Scale vers 1M€+ CA annuel
# ================================================

# ===================
# DATABASE (PostgreSQL)
# ===================
POSTGRES_USER=ticket_user
POSTGRES_PASSWORD=ticket_pass_change_in_production
POSTGRES_DB=ticket_platform

# Connection URL (optionnel - peut être construit depuis les vars ci-dessus)
# DATABASE_URL=postgresql://ticket_user:ticket_pass@postgres:5432/ticket_platform?schema=public

# ===================
# AUTHENTICATION
# ===================
# JWT - CHANGE IN PRODUCTION (min 32 chars)
JWT_SECRET=ticket_hub_jwt_secret_2026_change_in_production
JWT_EXPIRES_IN=7d

# Bcrypt rounds (12 = production secure)
BCRYPT_ROUNDS=12

# ===================
# STRIPE PAYMENTS (Production Ready)
# ===================
# Test keys - REMPLACER par des clés prod pour production
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_API_VERSION=2023-10-16

# ===================
# REDIS CACHE (Performance)
# ===================
# Format: redis://username:password@host:port
REDIS_URL=redis://redis:6379

# Cache TTL (secondes)
CACHE_TTL_EVENTS=30
CACHE_TTL_USER=300
CACHE_TTL_ORDERS=10

# ===================
# APPLICATION
# ===================
NODE_ENV=development
PORT=5000
FRONTEND_PORT=3000

# API URL for frontend (leave empty for proxy)
VITE_API_URL=

# ===================
# CORS & SECURITY
# ===================
# Domaines autorisés en production (séparés par virgule)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000

# Rate limiting
RATE_LIMIT_AUTH=50
RATE_LIMIT_API=200
RATE_LIMIT_PAYMENT=10

# ===================
# EMAIL (Resend/SendGrid - Transactionnels)
# ===================
# Pour notifications, confirmations, relances
EMAIL_API_KEY=your_email_api_key
EMAIL_FROM=noreply@tickethub.com
EMAIL_FROM_NAME=TicketHub

# ===================
# MONITORING & OBSERVABILITY
# ===================
PROMETHEUS_ENABLED=true
SENTRY_DSN=your_sentry_dsn
LOG_LEVEL=info

# ===================
# EXTERNAL SERVICES
# ===================
# Analytics (PostHog - RGPD compliant)
POSTHOG_API_KEY=your_posthog_api_key
POSTHOG_HOST=https://app.posthog.com

# CDN pour assets (CloudFlare/AWS CloudFront)
CDN_URL=

# ===================
# BUSINESS CONFIGURATION
# ===================
# Commission plateforme (%)
PLATFORM_COMMISSION=8
PLATFORM_COMMISSION_PREMIUM=5

# Frais de service utilisateur (€)
USER_SERVICE_FEE=0.50

# Minimum panier (€)
MINIMUM_ORDER=5

# ===================
# FEATURES FLAGS
# ===================
FEATURE_STRIPE_ENABLED=true
FEATURE_REDIS_ENABLED=false
FEATURE_EMAIL_ENABLED=false
FEATURE_ANALYTICS_ENABLED=false
FEATURE_OAUTH_ENABLED=false

# ===================
# WEBHOOKS
# ===================
# URL de callback pour webhooks externes
WEBHOOK_URL=https://api.tickethub.com
WEBHOOK_SECRET=your_webhook_secret

# ===================
# ADMIN
# ===================
ADMIN_EMAIL=admin@tickethub.com
ADMIN_PASSWORD_CHANGE_ME=admin123

# ================================================
# VARIABLES POUR DÉVELOPPEMENT LOCAL SEULEMENT
# ================================================
# NE PAS UTILISER EN PRODUCTION
